<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora de Reajuste - Ferramentas</title>

  <!-- Mantém o visual do seu site -->
  <link rel="stylesheet" href="../../assets/styles.css" />

  <!-- Ajustes específicos desta página (bem pequeno) -->
  <style>
    /* garante que selects no tema escuro não fiquem “brancos” */
    select option { background-color:#0b1225; color:#e6edf6; }
  </style>
</head>

<body>
  <!-- Topo (usa o mesmo padrão do seu site) -->
  <header class="nav">
    <div class="navInner">
      <div class="brand">
        <span>Shopping Center</span>
        <span class="badge">Ferramentas</span>
      </div>

      <nav class="menu">
        <a href="../../">Home</a>
        <a href="../../dicas/">Dicas</a>
        <a class="active" href="../">Ferramentas</a>
        <a href="../../planilhas/">Planilhas</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="calcWrap">

      <!-- ESQUERDA -->
      <section class="panel">
        <div class="head">
          <div>
            <h1 class="title">Calculadora de Reajuste de Aluguel</h1>
            <p class="sub">
              Você informa <b>aluguel</b>, <b>data de início</b>, <b>índice</b> e <b>periodicidade</b>.
              Para <b>anual</b>, o sistema traz os reajustes <b>ano a ano</b> (quando houver dados).
            </p>
          </div>
          <div class="pill">Brasil · índices oficiais</div>
        </div>

        <div class="body">
          <div class="grid">
            <div>
              <label for="rent">Valor do aluguel (R$)</label>
              <div class="field">
                <input id="rent" type="text" inputmode="numeric" placeholder="Ex.: 10000 ou 10.000,00" autocomplete="off" />
              </div>
              <div class="hint">Digite <b>10000</b> e ao sair do campo vira <b>R$ 10.000,00</b>.</div>
            </div>

            <div>
              <label for="idx">Índice</label>
              <div class="field">
                <select id="idx">
                  <option value="189">IGP-M (FGV) — SGS 189</option>
                  <option value="190">IGP-DI (FGV) — SGS 190</option>
                  <option value="433">IPCA (IBGE) — SGS 433</option>
                  <option value="193">IPC-FIPE — SGS 193</option>
                </select>
              </div>
              <div class="hint">Índices oficiais via SGS/BCB.</div>
            </div>

            <div>
              <label for="start">Data de início do contrato</label>
              <div class="field">
                <input id="start" type="text" inputmode="numeric" placeholder="dd/mm/aaaa" autocomplete="off" maxlength="10" />
              </div>
              <div class="hint">Máscara: <b>dd/mm/aaaa</b>. O cálculo considera o mês/ano.</div>
            </div>

            <div>
              <label for="freq">Periodicidade do reajuste</label>
              <div class="field">
                <select id="freq">
                  <option value="monthly">Mensal</option>
                  <option value="annual" selected>Anual (ano a ano)</option>
                </select>
              </div>
              <div class="hint">Anual: mostra cada aniversário até hoje (e sinaliza quando for futuro).</div>
            </div>
          </div>

          <div class="row">
            <label class="check" for="lock">
              <input id="lock" type="checkbox" />
              Travar deflação (não reduzir)
            </label>

            <button id="btn" class="btn">Calcular</button>
          </div>

          <div id="status" class="status">Preencha os campos e clique em <b>Calcular</b>.</div>

          <details style="margin-top:12px;">
            <summary>Diagnóstico (URL consultada e período)</summary>
            <pre id="diag">—</pre>
          </details>

          <div style="margin-top:10px;">
            <a class="backLink" href="../">← Voltar para Ferramentas</a>
          </div>
        </div>
      </section>

      <!-- DIREITA -->
      <aside class="panel">
        <div class="resHead">
          <h2 class="resTitle">Resultado</h2>
          <div class="resSub">Último reajuste calculado + visão ano a ano (anual).</div>
        </div>

        <div class="cards compact">

          <!-- KPIs em grid 2x2 -->
          <div class="kpiGrid">
            <div class="kpi">
              <p class="k">Reajuste (referência)</p>
              <p class="v" id="outDate">—</p>
            </div>

            <div class="kpi">
              <p class="k">Variação no período</p>
              <p class="v" id="outVar">—</p>
            </div>

            <div class="kpi">
              <p class="k">Fator aplicado</p>
              <p class="v" id="outFactor">—</p>
            </div>

            <div class="kpi">
              <p class="k">Novo aluguel</p>
              <p class="v" id="outRent">—</p>
            </div>
          </div>

          <!-- Ano a ano (sem tabela quebrando: layout em linhas responsivas) -->
          <section id="yearWrap" class="yyBox" style="display:none;">
            <h3 class="yyTitle">Reajustes ano a ano (anual)</h3>
            <p class="yyHint">Se o reajuste for futuro e não houver índice, aparece como <b>Sem dados</b>.</p>

            <div class="yyHead">
              <div>Ano</div>
              <div>Data do reajuste / Período</div>
              <div>Variação</div>
              <div>Novo aluguel</div>
              <div>Status</div>
            </div>

            <div id="yearBody" class="yyRows"></div>
          </section>

          <details>
            <summary>Ver meses e variações utilizadas (último cálculo)</summary>
            <pre id="outList">—</pre>
          </details>

          <div class="hint" style="padding:0 2px;">Fonte: API SGS/BCB (via API do site).</div>
        </div>
      </aside>

    </div>
  </main>

  <script src="../../assets/reajuste.js"></script>
</body>
</html>
